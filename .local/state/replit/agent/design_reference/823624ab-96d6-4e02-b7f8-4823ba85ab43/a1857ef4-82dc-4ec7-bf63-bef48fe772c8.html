<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POS Application - Point of Sale System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script>
    tailwind.config = {
        theme: {
            extend: {
                fontFamily: {
                    'roboto': ['Roboto', 'sans-serif'],
                },
                colors: {
                    'primary': '#1976D2',
                    'primary-light': '#42A5F5',
                    'primary-dark': '#1565C0',
                    'secondary': '#388E3C',
                    'accent': '#FF9800',
                    'surface': '#FFFFFF',
                    'background': '#FAFAFA',
                    'text-primary': '#212121',
                    'text-secondary': '#757575',
                }
            }
        }
    };
    </script>
    <style>
        body { font-family: 'Roboto', sans-serif; }
        .shadow-material { box-shadow: 0 2px 4px -1px rgba(0,0,0,0.2), 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12); }
        .shadow-material-lg { box-shadow: 0 8px 10px -5px rgba(0,0,0,0.2), 0 16px 24px 2px rgba(0,0,0,0.14), 0 6px 30px 5px rgba(0,0,0,0.12); }
        .receipt-print { font-family: 'Courier New', monospace; font-size: 12px; line-height: 1.2; }
    </style>
</head>
<body class="bg-background font-roboto">
    <!-- @COMPONENT: AppHeader [business info, user controls, time display] -->
    <header class="bg-primary text-white shadow-material-lg relative z-50">
        <div class="px-6 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <div class="text-2xl font-bold">
                    <i class="fas fa-cash-register mr-2"></i>
                    RetailPOS
                </div>
                <div class="text-sm opacity-90" data-bind="store.name">Main Store Location</div>
            </div>
            
            <div class="flex items-center space-x-6">
                <div class="text-right">
                    <div class="text-sm opacity-90">Cashier</div>
                    <div class="font-medium" data-bind="cashier.name">John Smith</div>
                </div>
                <div class="text-right">
                    <div class="text-sm opacity-90">Time</div>
                    <div class="font-medium" id="current-time">10:30 AM</div>
                </div>
                <button class="bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg transition-all duration-200" data-event="click:logout">
                    <i class="fas fa-sign-out-alt mr-2"></i>
                    Logout
                </button>
            </div>
        </div>
    </header>
    <!-- @END_COMPONENT: AppHeader -->

    <div class="flex h-screen pt-16">
        <!-- @COMPONENT: CategorySidebar [product categories, search, inventory status] -->
        <aside class="w-64 bg-surface shadow-material border-r border-gray-200 flex flex-col">
            <div class="p-4 border-b border-gray-200">
                <div class="relative">
                    <input type="text" placeholder="Search products..." 
                           class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"
                           data-bind="searchQuery" data-event="input:handleSearch">
                    <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                </div>
                <button class="w-full mt-3 bg-secondary hover:bg-green-600 text-white py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center"
                        data-event="click:simulateBarcodeScan">
                    <i class="fas fa-barcode mr-2"></i>
                    Scan Barcode
                </button>
            </div>
            
            <div class="flex-1 overflow-y-auto">
                <div class="p-4">
                    <h3 class="font-medium text-text-primary mb-3">Categories</h3>
                    <!-- @MAP: categories.map(category => ( -->
                    <div class="space-y-2">
                        <button class="w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors duration-200 flex items-center justify-between"
                                data-event="click:selectCategory" data-category="all">
                            <span class="flex items-center">
                                <i class="fas fa-th-large w-5 mr-2 text-text-secondary"></i>
                                All Products
                            </span>
                            <span class="text-xs bg-gray-200 text-text-secondary px-2 py-1 rounded-full" data-bind="products.total">248</span>
                        </button>
                        <button class="w-full text-left px-3 py-2 rounded-lg bg-primary-light bg-opacity-10 text-primary border-l-4 border-primary transition-colors duration-200 flex items-center justify-between"
                                data-event="click:selectCategory" data-category="beverages">
                            <span class="flex items-center">
                                <i class="fas fa-coffee w-5 mr-2"></i>
                                Beverages
                            </span>
                            <span class="text-xs bg-primary text-white px-2 py-1 rounded-full">45</span>
                        </button>
                        <button class="w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors duration-200 flex items-center justify-between"
                                data-event="click:selectCategory" data-category="snacks">
                            <span class="flex items-center">
                                <i class="fas fa-cookie-bite w-5 mr-2 text-text-secondary"></i>
                                Snacks
                            </span>
                            <span class="text-xs bg-gray-200 text-text-secondary px-2 py-1 rounded-full">67</span>
                        </button>
                        <button class="w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors duration-200 flex items-center justify-between"
                                data-event="click:selectCategory" data-category="electronics">
                            <span class="flex items-center">
                                <i class="fas fa-mobile-alt w-5 mr-2 text-text-secondary"></i>
                                Electronics
                            </span>
                            <span class="text-xs bg-gray-200 text-text-secondary px-2 py-1 rounded-full">34</span>
                        </button>
                        <button class="w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors duration-200 flex items-center justify-between"
                                data-event="click:selectCategory" data-category="household">
                            <span class="flex items-center">
                                <i class="fas fa-home w-5 mr-2 text-text-secondary"></i>
                                Household
                            </span>
                            <span class="text-xs bg-gray-200 text-text-secondary px-2 py-1 rounded-full">52</span>
                        </button>
                        <button class="w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors duration-200 flex items-center justify-between"
                                data-event="click:selectCategory" data-category="personal">
                            <span class="flex items-center">
                                <i class="fas fa-user w-5 mr-2 text-text-secondary"></i>
                                Personal Care
                            </span>
                            <span class="text-xs bg-gray-200 text-text-secondary px-2 py-1 rounded-full">28</span>
                        </button>
                    </div>
                    <!-- @END_MAP )) -->
                </div>
            </div>
            
            <div class="p-4 border-t border-gray-200">
                <button class="w-full bg-accent hover:bg-orange-600 text-white py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center"
                        data-event="click:openProductManager">
                    <i class="fas fa-cog mr-2"></i>
                    Manage Products
                </button>
            </div>
        </aside>
        <!-- @END_COMPONENT: CategorySidebar -->

        <!-- @COMPONENT: ProductGrid [product display, inventory status, quick add] -->
        <main class="flex-1 flex flex-col">
            <div class="bg-surface p-4 border-b border-gray-200 flex items-center justify-between">
                <div>
                    <h2 class="text-xl font-medium text-text-primary">Beverages</h2>
                    <p class="text-sm text-text-secondary">45 products available</p>
                </div>
                <div class="flex items-center space-x-3">
                    <button class="px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200 flex items-center"
                            data-event="click:toggleView">
                        <i class="fas fa-th mr-2"></i>
                        Grid View
                    </button>
                    <button class="px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200 flex items-center"
                            data-event="click:sortProducts">
                        <i class="fas fa-sort mr-2"></i>
                        Sort by Name
                    </button>
                </div>
            </div>
            
            <div class="flex-1 overflow-y-auto p-4">
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4">
                    <!-- @MAP: products.map(product => ( -->
                    <!-- Product Card 1 -->
                    <div class="bg-surface rounded-lg shadow-material hover:shadow-material-lg transition-all duration-200 overflow-hidden cursor-pointer"
                         data-event="click:addToCart" data-product-id="1">
                        <!-- Coffee shop interior with barista making espresso -->
                        <img src="https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&h=200" 
                             alt="Premium Coffee" class="w-full h-32 object-cover" data-mock="true">
                        <div class="p-3">
                            <h3 class="font-medium text-text-primary mb-1 line-clamp-2" data-bind="product.name">Premium Coffee</h3>
                            <p class="text-sm text-text-secondary mb-2" data-bind="product.sku">SKU: BEV001</p>
                            <div class="flex items-center justify-between">
                                <span class="text-lg font-bold text-primary" data-bind="product.price">$4.99</span>
                                <span class="text-xs text-secondary font-medium" data-bind="product.stock">24 in stock</span>
                            </div>
                        </div>
                        <div class="absolute top-2 right-2 bg-secondary text-white text-xs px-2 py-1 rounded-full">
                            Popular
                        </div>
                    </div>
                    
                    <!-- Product Card 2 -->
                    <div class="bg-surface rounded-lg shadow-material hover:shadow-material-lg transition-all duration-200 overflow-hidden cursor-pointer"
                         data-event="click:addToCart" data-product-id="2">
                        <!-- Fresh orange juice in a clear glass with orange slices -->
                        <img src="https://images.unsplash.com/photo-1613478223719-2ab802602423?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&h=200" 
                             alt="Fresh Orange Juice" class="w-full h-32 object-cover" data-mock="true">
                        <div class="p-3">
                            <h3 class="font-medium text-text-primary mb-1" data-bind="product.name">Fresh Orange Juice</h3>
                            <p class="text-sm text-text-secondary mb-2" data-bind="product.sku">SKU: BEV002</p>
                            <div class="flex items-center justify-between">
                                <span class="text-lg font-bold text-primary" data-bind="product.price">$3.49</span>
                                <span class="text-xs text-accent font-medium" data-bind="product.stock">8 in stock</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Product Card 3 -->
                    <div class="bg-surface rounded-lg shadow-material hover:shadow-material-lg transition-all duration-200 overflow-hidden cursor-pointer"
                         data-event="click:addToCart" data-product-id="3">
                        <!-- Assorted tea bags and loose tea leaves on wooden surface -->
                        <img src="https://pixabay.com/get/g9784c0b24ae54c03ec3691e47a2c08478eb0d31abbd0b66cf3e9f299506f2e9f2810eb2351798eb4d0ef66f8cbbb9bcd94c6e058b1872e78c011aac8a9c28262_1280.jpg" 
                             alt="Herbal Tea Collection" class="w-full h-32 object-cover" data-mock="true">
                        <div class="p-3">
                            <h3 class="font-medium text-text-primary mb-1" data-bind="product.name">Herbal Tea Collection</h3>
                            <p class="text-sm text-text-secondary mb-2" data-bind="product.sku">SKU: BEV003</p>
                            <div class="flex items-center justify-between">
                                <span class="text-lg font-bold text-primary" data-bind="product.price">$12.99</span>
                                <span class="text-xs text-secondary font-medium" data-bind="product.stock">15 in stock</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Product Card 4 -->
                    <div class="bg-surface rounded-lg shadow-material hover:shadow-material-lg transition-all duration-200 overflow-hidden cursor-pointer"
                         data-event="click:addToCart" data-product-id="4">
                        <!-- Sparkling water bottles with lime and bubbles -->
                        <img src="https://pixabay.com/get/gda9215aa8acda90bccddaad6d9091dc77f4b5e9aa035660aa5d0ebb18e50c7bef826fcae70c55b321868bb1cfc7737a30cda6c907e8d6f661c14eb32479181dd_1280.jpg" 
                             alt="Sparkling Water" class="w-full h-32 object-cover" data-mock="true">
                        <div class="p-3">
                            <h3 class="font-medium text-text-primary mb-1" data-bind="product.name">Sparkling Water</h3>
                            <p class="text-sm text-text-secondary mb-2" data-bind="product.sku">SKU: BEV004</p>
                            <div class="flex items-center justify-between">
                                <span class="text-lg font-bold text-primary" data-bind="product.price">$1.99</span>
                                <span class="text-xs text-secondary font-medium" data-bind="product.stock">32 in stock</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Product Card 5 -->
                    <div class="bg-surface rounded-lg shadow-material hover:shadow-material-lg transition-all duration-200 overflow-hidden cursor-pointer"
                         data-event="click:addToCart" data-product-id="5">
                        <!-- Energy drink can with lightning graphics -->
                        <img src="https://images.unsplash.com/photo-1622543925917-763c34d1a86e?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&h=200" 
                             alt="Energy Drink" class="w-full h-32 object-cover" data-mock="true">
                        <div class="p-3">
                            <h3 class="font-medium text-text-primary mb-1" data-bind="product.name">Energy Drink</h3>
                            <p class="text-sm text-text-secondary mb-2" data-bind="product.sku">SKU: BEV005</p>
                            <div class="flex items-center justify-between">
                                <span class="text-lg font-bold text-primary" data-bind="product.price">$2.79</span>
                                <span class="text-xs text-red-500 font-medium" data-bind="product.stock">3 in stock</span>
                            </div>
                        </div>
                        <div class="absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full">
                            Low Stock
                        </div>
                    </div>
                    
                    <!-- Product Card 6 -->
                    <div class="bg-surface rounded-lg shadow-material hover:shadow-material-lg transition-all duration-200 overflow-hidden cursor-pointer"
                         data-event="click:addToCart" data-product-id="6">
                        <!-- Green smoothie with kale and fruits -->
                        <img src="https://images.unsplash.com/photo-1570197788417-0e82375c9371?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&h=200" 
                             alt="Green Smoothie" class="w-full h-32 object-cover" data-mock="true">
                        <div class="p-3">
                            <h3 class="font-medium text-text-primary mb-1" data-bind="product.name">Green Smoothie</h3>
                            <p class="text-sm text-text-secondary mb-2" data-bind="product.sku">SKU: BEV006</p>
                            <div class="flex items-center justify-between">
                                <span class="text-lg font-bold text-primary" data-bind="product.price">$5.99</span>
                                <span class="text-xs text-secondary font-medium" data-bind="product.stock">12 in stock</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Product Card 7 -->
                    <div class="bg-surface rounded-lg shadow-material hover:shadow-material-lg transition-all duration-200 overflow-hidden cursor-pointer"
                         data-event="click:addToCart" data-product-id="7">
                        <!-- Cold brew coffee in a glass with ice -->
                        <img src="https://images.unsplash.com/photo-1461023058943-07fcbe16d735?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&h=200" 
                             alt="Cold Brew Coffee" class="w-full h-32 object-cover" data-mock="true">
                        <div class="p-3">
                            <h3 class="font-medium text-text-primary mb-1" data-bind="product.name">Cold Brew Coffee</h3>
                            <p class="text-sm text-text-secondary mb-2" data-bind="product.sku">SKU: BEV007</p>
                            <div class="flex items-center justify-between">
                                <span class="text-lg font-bold text-primary" data-bind="product.price">$4.49</span>
                                <span class="text-xs text-secondary font-medium" data-bind="product.stock">18 in stock</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Product Card 8 -->
                    <div class="bg-surface rounded-lg shadow-material hover:shadow-material-lg transition-all duration-200 overflow-hidden cursor-pointer"
                         data-event="click:addToCart" data-product-id="8">
                        <!-- Coconut water in a natural coconut -->
                        <img src="https://images.unsplash.com/photo-1559839734-2b71ea197ec2?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&h=200" 
                             alt="Coconut Water" class="w-full h-32 object-cover" data-mock="true">
                        <div class="p-3">
                            <h3 class="font-medium text-text-primary mb-1" data-bind="product.name">Coconut Water</h3>
                            <p class="text-sm text-text-secondary mb-2" data-bind="product.sku">SKU: BEV008</p>
                            <div class="flex items-center justify-between">
                                <span class="text-lg font-bold text-primary" data-bind="product.price">$3.99</span>
                                <span class="text-xs text-secondary font-medium" data-bind="product.stock">22 in stock</span>
                            </div>
                        </div>
                    </div>
                    <!-- @END_MAP )) -->
                </div>
            </div>
        </main>
        <!-- @END_COMPONENT: ProductGrid -->

        <!-- @COMPONENT: ShoppingCart [cart items, totals, checkout controls] -->
        <aside class="w-96 bg-surface shadow-material border-l border-gray-200 flex flex-col">
            <div class="p-4 border-b border-gray-200">
                <h2 class="text-xl font-medium text-text-primary mb-2">Shopping Cart</h2>
                <div class="flex items-center justify-between text-sm text-text-secondary">
                    <span data-bind="cart.itemCount">3 items</span>
                    <button class="text-red-500 hover:text-red-700" data-event="click:clearCart">Clear All</button>
                </div>
            </div>
            
            <div class="flex-1 overflow-y-auto p-4 space-y-3">
                <!-- @MAP: cartItems.map(item => ( -->
                <!-- Cart Item 1 -->
                <div class="bg-gray-50 rounded-lg p-3 flex items-start space-x-3" data-cart-item="1">
                    <img src="https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?ixlib=rb-4.0.3&auto=format&fit=crop&w=60&h=60" 
                         alt="Premium Coffee" class="w-12 h-12 object-cover rounded" data-mock="true">
                    <div class="flex-1">
                        <h4 class="font-medium text-text-primary" data-bind="item.name">Premium Coffee</h4>
                        <p class="text-sm text-text-secondary" data-bind="item.price">$4.99 each</p>
                        <div class="flex items-center justify-between mt-2">
                            <div class="flex items-center space-x-2">
                                <button class="w-8 h-8 bg-white border border-gray-300 rounded text-text-secondary hover:bg-gray-50"
                                        data-event="click:decreaseQuantity" data-item-id="1">-</button>
                                <span class="w-8 text-center font-medium" data-bind="item.quantity">2</span>
                                <button class="w-8 h-8 bg-white border border-gray-300 rounded text-text-secondary hover:bg-gray-50"
                                        data-event="click:increaseQuantity" data-item-id="1">+</button>
                            </div>
                            <div class="text-right">
                                <div class="font-bold text-text-primary" data-bind="item.total">$9.98</div>
                                <button class="text-xs text-red-500 hover:text-red-700" data-event="click:removeItem" data-item-id="1">Remove</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Cart Item 2 -->
                <div class="bg-gray-50 rounded-lg p-3 flex items-start space-x-3" data-cart-item="2">
                    <img src="https://images.unsplash.com/photo-1613478223719-2ab802602423?ixlib=rb-4.0.3&auto=format&fit=crop&w=60&h=60" 
                         alt="Fresh Orange Juice" class="w-12 h-12 object-cover rounded" data-mock="true">
                    <div class="flex-1">
                        <h4 class="font-medium text-text-primary" data-bind="item.name">Fresh Orange Juice</h4>
                        <p class="text-sm text-text-secondary" data-bind="item.price">$3.49 each</p>
                        <div class="flex items-center justify-between mt-2">
                            <div class="flex items-center space-x-2">
                                <button class="w-8 h-8 bg-white border border-gray-300 rounded text-text-secondary hover:bg-gray-50"
                                        data-event="click:decreaseQuantity" data-item-id="2">-</button>
                                <span class="w-8 text-center font-medium" data-bind="item.quantity">1</span>
                                <button class="w-8 h-8 bg-white border border-gray-300 rounded text-text-secondary hover:bg-gray-50"
                                        data-event="click:increaseQuantity" data-item-id="2">+</button>
                            </div>
                            <div class="text-right">
                                <div class="font-bold text-text-primary" data-bind="item.total">$3.49</div>
                                <button class="text-xs text-red-500 hover:text-red-700" data-event="click:removeItem" data-item-id="2">Remove</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Cart Item 3 -->
                <div class="bg-gray-50 rounded-lg p-3 flex items-start space-x-3" data-cart-item="3">
                    <img src="https://pixabay.com/get/g964883da65865658bfd369d4d63c59661330661cf7b6ac0b6219cf1c00820db99334835f72f6bd8131e9ab17ba6f9b799af190bb955c163c6883eb8675f80afe_1280.jpg" 
                         alt="Herbal Tea Collection" class="w-12 h-12 object-cover rounded" data-mock="true">
                    <div class="flex-1">
                        <h4 class="font-medium text-text-primary" data-bind="item.name">Herbal Tea Collection</h4>
                        <p class="text-sm text-text-secondary" data-bind="item.price">$12.99 each</p>
                        <div class="flex items-center justify-between mt-2">
                            <div class="flex items-center space-x-2">
                                <button class="w-8 h-8 bg-white border border-gray-300 rounded text-text-secondary hover:bg-gray-50"
                                        data-event="click:decreaseQuantity" data-item-id="3">-</button>
                                <span class="w-8 text-center font-medium" data-bind="item.quantity">1</span>
                                <button class="w-8 h-8 bg-white border border-gray-300 rounded text-text-secondary hover:bg-gray-50"
                                        data-event="click:increaseQuantity" data-item-id="3">+</button>
                            </div>
                            <div class="text-right">
                                <div class="font-bold text-text-primary" data-bind="item.total">$12.99</div>
                                <button class="text-xs text-red-500 hover:text-red-700" data-event="click:removeItem" data-item-id="3">Remove</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- @END_MAP )) -->
            </div>
            
            <!-- Cart Summary -->
            <div class="border-t border-gray-200 p-4 space-y-4">
                <div class="space-y-2">
                    <div class="flex justify-between text-sm">
                        <span class="text-text-secondary">Subtotal:</span>
                        <span class="font-medium" data-bind="cart.subtotal">$26.46</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-text-secondary">Tax (8.25%):</span>
                        <span class="font-medium" data-bind="cart.tax">$2.18</span>
                    </div>
                    <div class="border-t pt-2">
                        <div class="flex justify-between">
                            <span class="text-lg font-bold text-text-primary">Total:</span>
                            <span class="text-lg font-bold text-primary" data-bind="cart.total">$28.64</span>
                        </div>
                    </div>
                </div>
                
                <!-- Payment Methods -->
                <div class="space-y-2">
                    <label class="text-sm font-medium text-text-primary">Payment Method</label>
                    <div class="grid grid-cols-2 gap-2">
                        <button class="px-3 py-2 border-2 border-primary bg-primary text-white rounded-lg text-sm font-medium transition-colors duration-200"
                                data-event="click:selectPayment" data-payment="cash">
                            <i class="fas fa-money-bill-alt mr-1"></i>
                            Cash
                        </button>
                        <button class="px-3 py-2 border-2 border-gray-300 text-text-secondary rounded-lg text-sm font-medium hover:border-primary hover:text-primary transition-colors duration-200"
                                data-event="click:selectPayment" data-payment="card">
                            <i class="fas fa-credit-card mr-1"></i>
                            Card
                        </button>
                    </div>
                </div>
                
                <!-- @STATE: paymentMethod === 'cash' -->
                <div class="space-y-2" id="cash-payment">
                    <label class="text-sm font-medium text-text-primary">Amount Received</label>
                    <input type="number" step="0.01" placeholder="0.00" 
                           class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"
                           data-bind="payment.amountReceived" data-event="input:calculateChange">
                    <div class="flex justify-between text-sm">
                        <span class="text-text-secondary">Change:</span>
                        <span class="font-bold text-secondary" data-bind="payment.change">$0.00</span>
                    </div>
                </div>
                
                <button class="w-full bg-secondary hover:bg-green-600 text-white py-3 px-4 rounded-lg font-medium transition-colors duration-200 flex items-center justify-center"
                        data-event="click:processCheckout">
                    <i class="fas fa-shopping-cart mr-2"></i>
                    Complete Sale
                </button>
            </div>
        </aside>
        <!-- @END_COMPONENT: ShoppingCart -->
    </div>
    
    <!-- @COMPONENT: ReceiptModal [receipt display, print controls] -->
    <div id="receipt-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-surface rounded-lg shadow-material-lg max-w-md w-full max-h-screen overflow-y-auto">
            <div class="p-4 border-b border-gray-200 flex items-center justify-between">
                <h3 class="text-xl font-medium text-text-primary">Receipt</h3>
                <button class="text-text-secondary hover:text-text-primary" data-event="click:closeReceipt">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <div id="receipt-content" class="p-6 receipt-print bg-white">
                <div class="text-center mb-4">
                    <h2 class="text-lg font-bold">RetailPOS</h2>
                    <p class="text-sm">Main Store Location</p>
                    <p class="text-sm">123 Commerce St, City, State 12345</p>
                    <p class="text-sm">Phone: (555) 123-4567</p>
                </div>
                
                <div class="border-t border-b border-gray-300 py-2 mb-4">
                    <div class="flex justify-between text-sm">
                        <span>Transaction #:</span>
                        <span data-bind="receipt.transactionId">TXN-20231201-001</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span>Date:</span>
                        <span data-bind="receipt.date">Dec 1, 2023 10:30 AM</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span>Cashier:</span>
                        <span data-bind="receipt.cashier">John Smith</span>
                    </div>
                </div>
                
                <div class="space-y-1 mb-4">
                    <!-- @MAP: receiptItems.map(item => ( -->
                    <div class="flex justify-between text-sm">
                        <div class="flex-1">
                            <div data-bind="item.name">Premium Coffee</div>
                            <div class="text-xs text-gray-600" data-bind="item.details">2 x $4.99</div>
                        </div>
                        <div data-bind="item.total">$9.98</div>
                    </div>
                    <div class="flex justify-between text-sm">
                        <div class="flex-1">
                            <div data-bind="item.name">Fresh Orange Juice</div>
                            <div class="text-xs text-gray-600" data-bind="item.details">1 x $3.49</div>
                        </div>
                        <div data-bind="item.total">$3.49</div>
                    </div>
                    <div class="flex justify-between text-sm">
                        <div class="flex-1">
                            <div data-bind="item.name">Herbal Tea Collection</div>
                            <div class="text-xs text-gray-600" data-bind="item.details">1 x $12.99</div>
                        </div>
                        <div data-bind="item.total">$12.99</div>
                    </div>
                    <!-- @END_MAP )) -->
                </div>
                
                <div class="border-t border-gray-300 pt-2 space-y-1">
                    <div class="flex justify-between text-sm">
                        <span>Subtotal:</span>
                        <span data-bind="receipt.subtotal">$26.46</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span>Tax (8.25%):</span>
                        <span data-bind="receipt.tax">$2.18</span>
                    </div>
                    <div class="flex justify-between font-bold">
                        <span>Total:</span>
                        <span data-bind="receipt.total">$28.64</span>
                    </div>
                    <div class="flex justify-between text-sm mt-2">
                        <span>Payment Method:</span>
                        <span data-bind="receipt.paymentMethod">Cash</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span>Amount Received:</span>
                        <span data-bind="receipt.amountReceived">$30.00</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span>Change:</span>
                        <span data-bind="receipt.change">$1.36</span>
                    </div>
                </div>
                
                <div class="text-center mt-4 text-xs text-gray-600">
                    <p>Thank you for your business!</p>
                    <p>Please keep this receipt for your records</p>
                </div>
            </div>
            
            <div class="p-4 border-t border-gray-200 flex space-x-3">
                <button class="flex-1 bg-primary hover:bg-primary-dark text-white py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center"
                        data-event="click:printReceipt">
                    <i class="fas fa-print mr-2"></i>
                    Print Receipt
                </button>
                <button class="flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center"
                        data-event="click:emailReceipt">
                    <i class="fas fa-envelope mr-2"></i>
                    Email Receipt
                </button>
            </div>
        </div>
    </div>
    <!-- @END_COMPONENT: ReceiptModal -->
    
    <!-- @COMPONENT: ProductManagerModal [add/edit products, inventory management] -->
    <div id="product-manager-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-surface rounded-lg shadow-material-lg max-w-4xl w-full max-h-screen overflow-y-auto">
            <div class="p-4 border-b border-gray-200 flex items-center justify-between">
                <h3 class="text-xl font-medium text-text-primary">Product Management</h3>
                <button class="text-text-secondary hover:text-text-primary" data-event="click:closeProductManager">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <div class="p-6">
                <div class="flex space-x-4 mb-6">
                    <button class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark transition-colors duration-200 flex items-center"
                            data-event="click:addNewProduct">
                        <i class="fas fa-plus mr-2"></i>
                        Add New Product
                    </button>
                    <button class="bg-accent text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors duration-200 flex items-center"
                            data-event="click:bulkImport">
                        <i class="fas fa-upload mr-2"></i>
                        Bulk Import
                    </button>
                    <button class="bg-secondary text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors duration-200 flex items-center"
                            data-event="click:exportProducts">
                        <i class="fas fa-download mr-2"></i>
                        Export
                    </button>
                </div>
                
                <div class="bg-gray-50 rounded-lg overflow-hidden">
                    <table class="w-full">
                        <thead class="bg-gray-100">
                            <tr>
                                <th class="text-left py-3 px-4 font-medium text-text-primary">Product</th>
                                <th class="text-left py-3 px-4 font-medium text-text-primary">SKU</th>
                                <th class="text-left py-3 px-4 font-medium text-text-primary">Category</th>
                                <th class="text-left py-3 px-4 font-medium text-text-primary">Price</th>
                                <th class="text-left py-3 px-4 font-medium text-text-primary">Stock</th>
                                <th class="text-left py-3 px-4 font-medium text-text-primary">Actions</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white">
                            <!-- @MAP: products.map(product => ( -->
                            <tr class="border-b border-gray-200">
                                <td class="py-3 px-4">
                                    <div class="flex items-center space-x-3">
                                        <img src="https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?ixlib=rb-4.0.3&auto=format&fit=crop&w=40&h=40" 
                                             alt="Premium Coffee" class="w-10 h-10 object-cover rounded" data-mock="true">
                                        <span class="font-medium" data-bind="product.name">Premium Coffee</span>
                                    </div>
                                </td>
                                <td class="py-3 px-4 text-text-secondary" data-bind="product.sku">BEV001</td>
                                <td class="py-3 px-4 text-text-secondary" data-bind="product.category">Beverages</td>
                                <td class="py-3 px-4 font-medium" data-bind="product.price">$4.99</td>
                                <td class="py-3 px-4">
                                    <span class="px-2 py-1 bg-secondary text-white text-xs rounded-full" data-bind="product.stock">24</span>
                                </td>
                                <td class="py-3 px-4">
                                    <div class="flex space-x-2">
                                        <button class="text-primary hover:text-primary-dark" data-event="click:editProduct" data-product-id="1">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="text-red-500 hover:text-red-700" data-event="click:deleteProduct" data-product-id="1">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <!-- @END_MAP )) -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <!-- @END_COMPONENT: ProductManagerModal -->
    
    <!-- @COMPONENT: ToastNotifications [success, error, warning messages] -->
    <div id="toast-container" class="fixed top-20 right-4 z-50 space-y-2">
        <!-- Success Toast (hidden by default) -->
        <div id="success-toast" class="bg-secondary text-white px-4 py-3 rounded-lg shadow-material-lg flex items-center space-x-3 transform translate-x-full transition-transform duration-300">
            <i class="fas fa-check-circle"></i>
            <span data-bind="toast.message">Product added to cart successfully!</span>
            <button class="ml-auto text-white hover:text-gray-200" data-event="click:closeToast">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <!-- Error Toast (hidden by default) -->
        <div id="error-toast" class="bg-red-500 text-white px-4 py-3 rounded-lg shadow-material-lg flex items-center space-x-3 transform translate-x-full transition-transform duration-300">
            <i class="fas fa-exclamation-circle"></i>
            <span data-bind="toast.message">Insufficient stock for this product!</span>
            <button class="ml-auto text-white hover:text-gray-200" data-event="click:closeToast">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>
    <!-- @END_COMPONENT: ToastNotifications -->
    
    <!-- @COMPONENT: LoadingOverlay [processing transactions, loading data] -->
    <div id="loading-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center">
        <div class="bg-surface rounded-lg p-8 text-center shadow-material-lg">
            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"></div>
            <h3 class="text-lg font-medium text-text-primary mb-2">Processing Transaction</h3>
            <p class="text-text-secondary">Please wait while we complete your sale...</p>
        </div>
    </div>
    <!-- @END_COMPONENT: LoadingOverlay -->

    <script>
    // TODO: Implement business logic, API calls, or state management
    (function() {
        // Update current time display
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('en-US', { 
                hour: 'numeric', 
                minute: '2-digit',
                hour12: true 
            });
            const timeElement = document.getElementById('current-time');
            if (timeElement) {
                timeElement.textContent = timeString;
            }
        }
        
        // Update time immediately and then every minute
        updateTime();
        setInterval(updateTime, 60000);
        
        // Mock toast notification system
        function showToast(type, message) {
            const toast = document.getElementById(type + '-toast');
            if (toast) {
                const messageElement = toast.querySelector('[data-bind="toast.message"]');
                if (messageElement) messageElement.textContent = message;
                
                toast.classList.remove('translate-x-full');
                setTimeout(() => {
                    toast.classList.add('translate-x-full');
                }, 3000);
            }
        }
        
        // Mock event handlers for demonstration
        document.addEventListener('click', function(e) {
            const target = e.target.closest('[data-event]');
            if (!target) return;
            
            const event = target.getAttribute('data-event');
            
            // Handle various UI interactions
            if (event === 'click:addToCart') {
                showToast('success', 'Product added to cart!');
            } else if (event === 'click:processCheckout') {
                document.getElementById('loading-overlay').classList.remove('hidden');
                setTimeout(() => {
                    document.getElementById('loading-overlay').classList.add('hidden');
                    document.getElementById('receipt-modal').classList.remove('hidden');
                }, 2000);
            } else if (event === 'click:closeReceipt') {
                document.getElementById('receipt-modal').classList.add('hidden');
            } else if (event === 'click:openProductManager') {
                document.getElementById('product-manager-modal').classList.remove('hidden');
            } else if (event === 'click:closeProductManager') {
                document.getElementById('product-manager-modal').classList.add('hidden');
            } else if (event === 'click:closeToast') {
                target.closest('.bg-secondary, .bg-red-500').classList.add('translate-x-full');
            }
        });
        
        // Mock payment method selection
        document.addEventListener('click', function(e) {
            if (e.target.closest('[data-event="click:selectPayment"]')) {
                const paymentButtons = document.querySelectorAll('[data-event="click:selectPayment"]');
                paymentButtons.forEach(btn => {
                    btn.classList.remove('border-primary', 'bg-primary', 'text-white');
                    btn.classList.add('border-gray-300', 'text-text-secondary');
                });
                
                const selectedButton = e.target.closest('[data-event="click:selectPayment"]');
                selectedButton.classList.add('border-primary', 'bg-primary', 'text-white');
                selectedButton.classList.remove('border-gray-300', 'text-text-secondary');
                
                const paymentMethod = selectedButton.getAttribute('data-payment');
                const cashPayment = document.getElementById('cash-payment');
                if (cashPayment) {
                    cashPayment.style.display = paymentMethod === 'cash' ? 'block' : 'none';
                }
            }
        });
    })();
    </script>
</body>
</html>